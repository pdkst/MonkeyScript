(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Kuroshiro = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
module.exports=require("regenerator-runtime");

},{"regenerator-runtime":2}],2:[function(require,module,exports){
var g=function(){return this}()||Function("return this")(),hadRuntime=g.regeneratorRuntime&&Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime")>=0,oldRuntime=hadRuntime&&g.regeneratorRuntime;if(g.regeneratorRuntime=void 0,module.exports=require("./runtime"),hadRuntime)g.regeneratorRuntime=oldRuntime;else try{delete g.regeneratorRuntime}catch(e){g.regeneratorRuntime=void 0}

},{"./runtime":3}],3:[function(require,module,exports){
!function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof module,h=t.regeneratorRuntime;if(h)u&&(module.exports=h);else{(h=t.regeneratorRuntime=u?module.exports:{}).wrap=w;var s="suspendedStart",f="suspendedYield",l="executing",p="completed",y={},v={};v[i]=function(){return this};var d=Object.getPrototypeOf,g=d&&d(d(P([])));g&&g!==e&&n.call(g,i)&&(v=g);var m=b.prototype=x.prototype=Object.create(v);E.prototype=m.constructor=b,b.constructor=E,b[c]=E.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===E||"GeneratorFunction"===(r.displayName||r.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(m),t},h.awrap=function(t){return{__await:t}},_(j.prototype),j.prototype[a]=function(){return this},h.AsyncIterator=j,h.async=function(t,r,e,n){var o=new j(w(t,r,e,n));return h.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},_(m),m[c]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},h.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},h.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(G),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),G(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;G(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}}}function w(t,r,e,n){var o=r&&r.prototype instanceof x?r:x,i=Object.create(o.prototype),a=new N(n||[]);return i._invoke=function(t,r,e){var n=s;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return F()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=O(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===s)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=L(t,r,e);if("normal"===u.type){if(n=e.done?p:f,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function L(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function x(){}function E(){}function b(){}function _(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function j(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=L(t[e],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(h).then(function(t){u.value=t,i(u)},a)}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,O(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=L(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function k(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function G(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:F}}function F(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")());

},{}],4:[function(require,module,exports){
"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator=require("babel-runtime/regenerator"),_regenerator2=_interopRequireDefault(_regenerator),_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(r){return void 0===r?"undefined":_typeof2(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":void 0===r?"undefined":_typeof2(r)},_createClass=function(){function r(r,a){for(var e=0;e<a.length;e++){var t=a[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(a,e,t){return e&&r(a.prototype,e),t&&r(a,t),a}}(),_util=require("./util");function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function _asyncToGenerator(r){return function(){var a=r.apply(this,arguments);return new Promise(function(r,e){return function t(n,i){try{var o=a[n](i),u=o.value}catch(r){return void e(r)}if(!o.done)return Promise.resolve(u).then(function(r){t("next",r)},function(r){t("throw",r)});r(u)}("next")})}}function _classCallCheck(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}var Kuroshiro=function(){function r(){_classCallCheck(this,r),this._analyzer=null}return _createClass(r,[{key:"init",value:function(){var r=_asyncToGenerator(_regenerator2.default.mark(function r(a){return _regenerator2.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a&&"object"===(void 0===a?"undefined":_typeof(a))&&"function"==typeof a.init&&"function"==typeof a.parse){r.next=4;break}throw new Error("Invalid initialization parameter.");case 4:if(null!=this._analyzer){r.next=16;break}return r.prev=5,r.next=8,a.init();case 8:this._analyzer=a,r.next=14;break;case 11:throw r.prev=11,r.t0=r.catch(5),r.t0;case 14:r.next=17;break;case 16:throw new Error("Kuroshiro has already been initialized.");case 17:case"end":return r.stop()}},r,this,[[5,11]])}));return function(a){return r.apply(this,arguments)}}()},{key:"convert",value:function(){var r=_asyncToGenerator(_regenerator2.default.mark(function r(a,e){var t,n,i,o,u,s,f,l,c,_,m,p,d,g,h,y,b,k,w,x,j,v,K,R,S,T,H,E,O,I,M;return _regenerator2.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if((e=e||{}).to=e.to||"hiragana",e.mode=e.mode||"normal",e.romajiSystem=e.romajiSystem||_util.ROMANIZATION_SYSTEM.HEPBURN,e.delimiter_start=e.delimiter_start||"(",e.delimiter_end=e.delimiter_end||")",a=a||"",-1!==["hiragana","katakana","romaji"].indexOf(e.to)){r.next=9;break}throw new Error("Invalid Target Syllabary.");case 9:if(-1!==["normal","spaced","okurigana","furigana"].indexOf(e.mode)){r.next=11;break}throw new Error("Invalid Conversion Mode.");case 11:if(-1!==Object.keys(_util.ROMANIZATION_SYSTEM).map(function(r){return _util.ROMANIZATION_SYSTEM[r]}).indexOf(e.romajiSystem)){r.next=14;break}throw new Error("Invalid Romanization System.");case 14:return r.next=16,this._analyzer.parse(a);case 16:if(t=r.sent,n=(0,_util.patchTokens)(t),"normal"!==e.mode&&"spaced"!==e.mode){r.next=36;break}r.t0=e.to,r.next="katakana"===r.t0?22:"romaji"===r.t0?25:"hiragana"===r.t0?29:33;break;case 22:if("normal"!==e.mode){r.next=24;break}return r.abrupt("return",n.map(function(r){return r.reading}).join(""));case 24:return r.abrupt("return",n.map(function(r){return r.reading}).join(" "));case 25:if(i=function(r){var a=void 0;return a=(0,_util.hasJapanese)(r.surface_form)?r.pronunciation||r.reading:r.surface_form,(0,_util.toRawRomaji)(a,e.romajiSystem)},"normal"!==e.mode){r.next=28;break}return r.abrupt("return",n.map(i).join(""));case 28:return r.abrupt("return",n.map(i).join(" "));case 29:for(o=0;o<n.length;o++)if((0,_util.hasKanji)(n[o].surface_form))if((0,_util.hasKatakana)(n[o].surface_form)){for(n[o].reading=(0,_util.toRawHiragana)(n[o].reading),u="",s="",f=0;f<n[o].surface_form.length;f++)(0,_util.isKanji)(n[o].surface_form[f])?s+="(.*)":s+=(0,_util.isKatakana)(n[o].surface_form[f])?(0,_util.toRawHiragana)(n[o].surface_form[f]):n[o].surface_form[f];if(l=new RegExp(s),c=l.exec(n[o].reading)){for(_=0,m=0;m<n[o].surface_form.length;m++)(0,_util.isKanji)(n[o].surface_form[m])?(u+=c[_+1],_++):u+=n[o].surface_form[m];n[o].reading=u}}else n[o].reading=(0,_util.toRawHiragana)(n[o].reading);else n[o].reading=n[o].surface_form;if("normal"!==e.mode){r.next=32;break}return r.abrupt("return",n.map(function(r){return r.reading}).join(""));case 32:return r.abrupt("return",n.map(function(r){return r.reading}).join(" "));case 33:throw new Error("Unknown option.to param");case 34:r.next=73;break;case 36:if("okurigana"!==e.mode&&"furigana"!==e.mode){r.next=73;break}p=[],d=0;case 39:if(!(d<n.length)){r.next=62;break}g=(0,_util.getStrType)(n[d].surface_form),r.t1=g,r.next=0===r.t1?44:1===r.t1?46:2===r.t1?54:3===r.t1?56:58;break;case 44:return p.push([n[d].surface_form,1,(0,_util.toRawHiragana)(n[d].reading),n[d].pronunciation||n[d].reading]),r.abrupt("break",59);case 46:for(h="",y=!1,b=[],k=0;k<n[d].surface_form.length;k++)(0,_util.isKanji)(n[d].surface_form[k])?y?b[b.length-1]+=n[d].surface_form[k]:(y=!0,h+="(.*)",b.push(n[d].surface_form[k])):(y=!1,b.push(n[d].surface_form[k]),h+=(0,_util.isKatakana)(n[d].surface_form[k])?(0,_util.toRawHiragana)(n[d].surface_form[k]):n[d].surface_form[k]);if(w=new RegExp("^"+h+"$"),x=w.exec((0,_util.toRawHiragana)(n[d].reading)))for(j=1,v=0;v<b.length;v++)(0,_util.isKanji)(b[v][0])?(p.push([b[v],1,x[j],(0,_util.toRawKatakana)(x[j])]),j+=1):p.push([b[v],2,(0,_util.toRawHiragana)(b[v]),(0,_util.toRawKatakana)(b[v])]);else p.push([n[d].surface_form,1,(0,_util.toRawHiragana)(n[d].reading),n[d].pronunciation||n[d].reading]);return r.abrupt("break",59);case 54:for(K=0;K<n[d].surface_form.length;K++)p.push([n[d].surface_form[K],2,(0,_util.toRawHiragana)(n[d].reading[K]),n[d].pronunciation&&n[d].pronunciation[K]||n[d].reading[K]]);return r.abrupt("break",59);case 56:for(R=0;R<n[d].surface_form.length;R++)p.push([n[d].surface_form[R],3,n[d].surface_form[R],n[d].surface_form[R]]);return r.abrupt("break",59);case 58:throw new Error("Unknown strType");case 59:d++,r.next=39;break;case 62:S="",r.t2=e.to,r.next="katakana"===r.t2?66:"romaji"===r.t2?68:"hiragana"===r.t2?70:72;break;case 66:if("okurigana"===e.mode)for(T=0;T<p.length;T++)1!==p[T][1]?S+=p[T][0]:S+=p[T][0]+e.delimiter_start+(0,_util.toRawKatakana)(p[T][2])+e.delimiter_end;else for(H=0;H<p.length;H++)1!==p[H][1]?S+=p[H][0]:S+="<ruby>"+p[H][0]+"<rp>"+e.delimiter_start+"</rp><rt>"+(0,_util.toRawKatakana)(p[H][2])+"</rt><rp>"+e.delimiter_end+"</rp></ruby>";return r.abrupt("return",S);case 68:if("okurigana"===e.mode)for(E=0;E<p.length;E++)1!==p[E][1]?S+=p[E][0]:S+=p[E][0]+e.delimiter_start+(0,_util.toRawRomaji)(p[E][3],e.romajiSystem)+e.delimiter_end;else{for(S+="<ruby>",O=0;O<p.length;O++)S+=p[O][0]+"<rp>"+e.delimiter_start+"</rp><rt>"+(0,_util.toRawRomaji)(p[O][3],e.romajiSystem)+"</rt><rp>"+e.delimiter_end+"</rp>";S+="</ruby>"}return r.abrupt("return",S);case 70:if("okurigana"===e.mode)for(I=0;I<p.length;I++)1!==p[I][1]?S+=p[I][0]:S+=p[I][0]+e.delimiter_start+p[I][2]+e.delimiter_end;else for(M=0;M<p.length;M++)1!==p[M][1]?S+=p[M][0]:S+="<ruby>"+p[M][0]+"<rp>"+e.delimiter_start+"</rp><rt>"+p[M][2]+"</rt><rp>"+e.delimiter_end+"</rp></ruby>";return r.abrupt("return",S);case 72:throw new Error("Invalid Target Syllabary.");case 73:case"end":return r.stop()}},r,this)}));return function(a,e){return r.apply(this,arguments)}}()}]),r}(),Util={isHiragana:_util.isHiragana,isKatakana:_util.isKatakana,isKana:_util.isKana,isKanji:_util.isKanji,isJapanese:_util.isJapanese,hasHiragana:_util.hasHiragana,hasKatakana:_util.hasKatakana,hasKana:_util.hasKana,hasKanji:_util.hasKanji,hasJapanese:_util.hasJapanese,kanaToHiragna:_util.kanaToHiragna,kanaToKatakana:_util.kanaToKatakana,kanaToRomaji:_util.kanaToRomaji};Kuroshiro.Util=Util,exports.default=Kuroshiro,module.exports=exports.default;

},{"./util":6,"babel-runtime/regenerator":1}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _core=require("./core"),_core2=_interopRequireDefault(_core);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=_core2.default,module.exports=exports.default;

},{"./core":4}],6:[function(require,module,exports){
"use strict";function _toConsumableArray(a){if(Array.isArray(a)){for(var o=0,e=Array(a.length);o<a.length;o++)e[o]=a[o];return e}return Array.from(a)}Object.defineProperty(exports,"__esModule",{value:!0});var KATAKANA_HIRAGANA_SHIFT="ぁ".charCodeAt(0)-"ァ".charCodeAt(0),HIRAGANA_KATAKANA_SHIFT="ァ".charCodeAt(0)-"ぁ".charCodeAt(0),ROMANIZATION_SYSTEM={NIPPON:"nippon",PASSPORT:"passport",HEPBURN:"hepburn"},isHiragana=function(a){return(a=a[0])>="぀"&&a<="ゟ"},isKatakana=function(a){return(a=a[0])>="゠"&&a<="ヿ"},isKana=function(a){return isHiragana(a)||isKatakana(a)},isKanji=function(a){return(a=a[0])>="一"&&a<="鿏"||a>="豈"&&a<="﫿"||a>="㐀"&&a<="䶿"},isJapanese=function(a){return isKana(a)||isKanji(a)},hasHiragana=function(a){for(var o=0;o<a.length;o++)if(isHiragana(a[o]))return!0;return!1},hasKatakana=function(a){for(var o=0;o<a.length;o++)if(isKatakana(a[o]))return!0;return!1},hasKana=function(a){for(var o=0;o<a.length;o++)if(isKana(a[o]))return!0;return!1},hasKanji=function(a){for(var o=0;o<a.length;o++)if(isKanji(a[o]))return!0;return!1},hasJapanese=function(a){for(var o=0;o<a.length;o++)if(isJapanese(a[o]))return!0;return!1},toRawHiragana=function(a){return[].concat(_toConsumableArray(a)).map(function(a){return a>"゠"&&a<"ヷ"?String.fromCharCode(a.charCodeAt(0)+KATAKANA_HIRAGANA_SHIFT):a}).join("")},toRawKatakana=function(a){return[].concat(_toConsumableArray(a)).map(function(a){return a>"぀"&&a<"゗"?String.fromCharCode(a.charCodeAt(0)+HIRAGANA_KATAKANA_SHIFT):a}).join("")},toRawRomaji=function(a,o){var e={nippon:{"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0","！":"!","“":'"',"”":'"',"＃":"#","＄":"$","％":"%","＆":"&","’":"'","（":"(","）":")","＝":"=","～":"~","｜":"|","＠":"@","‘":"`","＋":"+","＊":"*","；":";","：":":","＜":"<","＞":">","、":",","。":".","／":"/","？":"?","＿":"_","・":"･","「":'"',"」":'"',"｛":"{","｝":"}","￥":"\\","＾":"^","あ":"a","い":"i","う":"u","え":"e","お":"o","ア":"a","イ":"i","ウ":"u","エ":"e","オ":"o","か":"ka","き":"ki","く":"ku","け":"ke","こ":"ko","カ":"ka","キ":"ki","ク":"ku","ケ":"ke","コ":"ko","さ":"sa","し":"si","す":"su","せ":"se","そ":"so","サ":"sa","シ":"si","ス":"su","セ":"se","ソ":"so","た":"ta","ち":"ti","つ":"tu","て":"te","と":"to","タ":"ta","チ":"ti","ツ":"tu","テ":"te","ト":"to","な":"na","に":"ni","ぬ":"nu","ね":"ne","の":"no","ナ":"na","ニ":"ni","ヌ":"nu","ネ":"ne","ノ":"no","は":"ha","ひ":"hi","ふ":"hu","へ":"he","ほ":"ho","ハ":"ha","ヒ":"hi","フ":"hu","ヘ":"he","ホ":"ho","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","マ":"ma","ミ":"mi","ム":"mu","メ":"me","モ":"mo","や":"ya","ゆ":"yu","よ":"yo","ヤ":"ya","ユ":"yu","ヨ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","ラ":"ra","リ":"ri","ル":"ru","レ":"re","ロ":"ro","わ":"wa","ゐ":"wi","ゑ":"we","を":"wo","ワ":"wa","ヰ":"wi","ヱ":"we","ヲ":"wo","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ガ":"ga","ギ":"gi","グ":"gu","ゲ":"ge","ゴ":"go","ざ":"za","じ":"zi","ず":"zu","ぜ":"ze","ぞ":"zo","ザ":"za","ジ":"zi","ズ":"zu","ゼ":"ze","ゾ":"zo","だ":"da","ぢ":"di","づ":"du","で":"de","ど":"do","ダ":"da","ヂ":"di","ヅ":"du","デ":"de","ド":"do","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","バ":"ba","ビ":"bi","ブ":"bu","ベ":"be","ボ":"bo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","パ":"pa","ピ":"pi","プ":"pu","ペ":"pe","ポ":"po","きゃ":"kya","きゅ":"kyu","きょ":"kyo","しゃ":"sya","しゅ":"syu","しょ":"syo","ちゃ":"tya","ちゅ":"tyu","ちょ":"tyo","にゃ":"nya","にゅ":"nyu","にょ":"nyo","ひゃ":"hya","ひゅ":"hyu","ひょ":"hyo","みゃ":"mya","みゅ":"myu","みょ":"myo","りゃ":"rya","りゅ":"ryu","りょ":"ryo","キャ":"kya","キュ":"kyu","キョ":"kyo","シャ":"sya","シュ":"syu","ショ":"syo","チャ":"tya","チュ":"tyu","チョ":"tyo","ニャ":"nya","ニュ":"nyu","ニョ":"nyo","ヒャ":"hya","ヒュ":"hyu","ヒョ":"hyo","ミャ":"mya","ミュ":"myu","ミョ":"myo","リャ":"rya","リュ":"ryu","リョ":"ryo","ぎゃ":"gya","ぎゅ":"gyu","ぎょ":"gyo","じゃ":"zya","じゅ":"zyu","じょ":"zyo","ぢゃ":"dya","ぢゅ":"dyu","ぢょ":"dyo","びゃ":"bya","びゅ":"byu","びょ":"byo","ぴゃ":"pya","ぴゅ":"pyu","ぴょ":"pyo","くゎ":"kwa","ぐゎ":"gwa","ギャ":"gya","ギュ":"gyu","ギョ":"gyo","ジャ":"zya","ジュ":"zyu","ジョ":"zyo","ヂャ":"dya","ヂュ":"dyu","ヂョ":"dyo","ビャ":"bya","ビュ":"byu","ビョ":"byo","ピャ":"pya","ピュ":"pyu","ピョ":"pyo","クヮ":"kwa","グヮ":"gwa","ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o","ゃ":"ya","ゅ":"yu","ょ":"yo","ゎ":"wa","ァ":"a","ィ":"i","ゥ":"u","ェ":"e","ォ":"o","ャ":"ya","ュ":"yu","ョ":"yo","ヮ":"wa","ヵ":"ka","ヶ":"ke","ん":"n","ン":"n","　":" ","いぇ":"ye","きぇ":"kye","くぃ":"kwi","くぇ":"kwe","くぉ":"kwo","ぐぃ":"gwi","ぐぇ":"gwe","ぐぉ":"gwo","イェ":"ye","キェ":"kya","クィ":"kwi","クェ":"kwe","クォ":"kwo","グィ":"gwi","グェ":"gwe","グォ":"gwo","しぇ":"sye","じぇ":"zye","すぃ":"swi","ずぃ":"zwi","ちぇ":"tye","つぁ":"twa","つぃ":"twi","つぇ":"twe","つぉ":"two","にぇ":"nye","ひぇ":"hye","ふぁ":"hwa","ふぃ":"hwi","ふぇ":"hwe","ふぉ":"hwo","ふゅ":"hwyu","ふょ":"hwyo","シェ":"sye","ジェ":"zye","スィ":"swi","ズィ":"zwi","チェ":"tye","ツァ":"twa","ツィ":"twi","ツェ":"twe","ツォ":"two","ニェ":"nye","ヒェ":"hye","ファ":"hwa","フィ":"hwi","フェ":"hwe","フォ":"hwo","フュ":"hwyu","フョ":"hwyo"},passport:{"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0","！":"!","“":'"',"”":'"',"＃":"#","＄":"$","％":"%","＆":"&","’":"'","（":"(","）":")","＝":"=","～":"~","｜":"|","＠":"@","‘":"`","＋":"+","＊":"*","；":";","：":":","＜":"<","＞":">","、":",","。":".","／":"/","？":"?","＿":"_","・":"･","「":'"',"」":'"',"｛":"{","｝":"}","￥":"\\","＾":"^","あ":"a","い":"i","う":"u","え":"e","お":"o","ア":"a","イ":"i","ウ":"u","エ":"e","オ":"o","か":"ka","き":"ki","く":"ku","け":"ke","こ":"ko","カ":"ka","キ":"ki","ク":"ku","ケ":"ke","コ":"ko","さ":"sa","し":"shi","す":"su","せ":"se","そ":"so","サ":"sa","シ":"shi","ス":"su","セ":"se","ソ":"so","た":"ta","ち":"chi","つ":"tsu","て":"te","と":"to","タ":"ta","チ":"chi","ツ":"tsu","テ":"te","ト":"to","な":"na","に":"ni","ぬ":"nu","ね":"ne","の":"no","ナ":"na","ニ":"ni","ヌ":"nu","ネ":"ne","ノ":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ハ":"ha","ヒ":"hi","フ":"fu","ヘ":"he","ホ":"ho","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","マ":"ma","ミ":"mi","ム":"mu","メ":"me","モ":"mo","や":"ya","ゆ":"yu","よ":"yo","ヤ":"ya","ユ":"yu","ヨ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","ラ":"ra","リ":"ri","ル":"ru","レ":"re","ロ":"ro","わ":"wa","ゐ":"i","ゑ":"e","を":"o","ワ":"wa","ヰ":"i","ヱ":"e","ヲ":"o","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ガ":"ga","ギ":"gi","グ":"gu","ゲ":"ge","ゴ":"go","ざ":"za","じ":"ji","ず":"zu","ぜ":"ze","ぞ":"zo","ザ":"za","ジ":"ji","ズ":"zu","ゼ":"ze","ゾ":"zo","だ":"da","ぢ":"ji","づ":"zu","で":"de","ど":"do","ダ":"da","ヂ":"ji","ヅ":"zu","デ":"de","ド":"do","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","バ":"ba","ビ":"bi","ブ":"bu","ベ":"be","ボ":"bo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","パ":"pa","ピ":"pi","プ":"pu","ペ":"pe","ポ":"po","きゃ":"kya","きゅ":"kyu","きょ":"kyo","しゃ":"sha","しゅ":"shu","しょ":"sho","ちゃ":"cha","ちゅ":"chu","ちょ":"cho","にゃ":"nya","にゅ":"nyu","にょ":"nyo","ひゃ":"hya","ひゅ":"hyu","ひょ":"hyo","みゃ":"mya","みゅ":"myu","みょ":"myo","りゃ":"rya","りゅ":"ryu","りょ":"ryo","キャ":"kya","キュ":"kyu","キョ":"kyo","シャ":"sha","シュ":"shu","ショ":"sho","チャ":"cha","チュ":"chu","チョ":"cho","ニャ":"nya","ニュ":"nyu","ニョ":"nyo","ヒャ":"hya","ヒュ":"hyu","ヒョ":"hyo","ミャ":"mya","ミュ":"myu","ミョ":"myo","リャ":"rya","リュ":"ryu","リョ":"ryo","ぎゃ":"gya","ぎゅ":"gyu","ぎょ":"gyo","じゃ":"ja","じゅ":"ju","じょ":"jo","ぢゃ":"ja","ぢゅ":"ju","ぢょ":"jo","びゃ":"bya","びゅ":"byu","びょ":"byo","ぴゃ":"pya","ぴゅ":"pyu","ぴょ":"pyo","ギャ":"gya","ギュ":"gyu","ギョ":"gyo","ジャ":"ja","ジュ":"ju","ジョ":"jo","ヂャ":"ja","ヂュ":"ju","ヂョ":"jo","ビャ":"bya","ビュ":"byu","ビョ":"byo","ピャ":"pya","ピュ":"pyu","ピョ":"pyo","ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o","ゃ":"ya","ゅ":"yu","ょ":"yo","ゎ":"wa","ァ":"a","ィ":"i","ゥ":"u","ェ":"e","ォ":"o","ャ":"ya","ュ":"yu","ョ":"yo","ヮ":"wa","ヵ":"ka","ヶ":"ke","ん":"n","ン":"n","　":" ","ヴ":"b"},hepburn:{"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0","！":"!","“":'"',"”":'"',"＃":"#","＄":"$","％":"%","＆":"&","’":"'","（":"(","）":")","＝":"=","～":"~","｜":"|","＠":"@","‘":"`","＋":"+","＊":"*","；":";","：":":","＜":"<","＞":">","、":",","。":".","／":"/","？":"?","＿":"_","・":"･","「":'"',"」":'"',"｛":"{","｝":"}","￥":"\\","＾":"^","あ":"a","い":"i","う":"u","え":"e","お":"o","ア":"a","イ":"i","ウ":"u","エ":"e","オ":"o","か":"ka","き":"ki","く":"ku","け":"ke","こ":"ko","カ":"ka","キ":"ki","ク":"ku","ケ":"ke","コ":"ko","さ":"sa","し":"shi","す":"su","せ":"se","そ":"so","サ":"sa","シ":"shi","ス":"su","セ":"se","ソ":"so","た":"ta","ち":"chi","つ":"tsu","て":"te","と":"to","タ":"ta","チ":"chi","ツ":"tsu","テ":"te","ト":"to","な":"na","に":"ni","ぬ":"nu","ね":"ne","の":"no","ナ":"na","ニ":"ni","ヌ":"nu","ネ":"ne","ノ":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ハ":"ha","ヒ":"hi","フ":"fu","ヘ":"he","ホ":"ho","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","マ":"ma","ミ":"mi","ム":"mu","メ":"me","モ":"mo","や":"ya","ゆ":"yu","よ":"yo","ヤ":"ya","ユ":"yu","ヨ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","ラ":"ra","リ":"ri","ル":"ru","レ":"re","ロ":"ro","わ":"wa","ゐ":"i","ゑ":"e","を":"o","ワ":"wa","ヰ":"i","ヱ":"e","ヲ":"o","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ガ":"ga","ギ":"gi","グ":"gu","ゲ":"ge","ゴ":"go","ざ":"za","じ":"ji","ず":"zu","ぜ":"ze","ぞ":"zo","ザ":"za","ジ":"ji","ズ":"zu","ゼ":"ze","ゾ":"zo","だ":"da","ぢ":"ji","づ":"zu","で":"de","ど":"do","ダ":"da","ヂ":"ji","ヅ":"zu","デ":"de","ド":"do","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","バ":"ba","ビ":"bi","ブ":"bu","ベ":"be","ボ":"bo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","パ":"pa","ピ":"pi","プ":"pu","ペ":"pe","ポ":"po","きゃ":"kya","きゅ":"kyu","きょ":"kyo","しゃ":"sha","しゅ":"shu","しょ":"sho","ちゃ":"cha","ちゅ":"chu","ちょ":"cho","にゃ":"nya","にゅ":"nyu","にょ":"nyo","ひゃ":"hya","ひゅ":"hyu","ひょ":"hyo","みゃ":"mya","みゅ":"myu","みょ":"myo","りゃ":"rya","りゅ":"ryu","りょ":"ryo","キャ":"kya","キュ":"kyu","キョ":"kyo","シャ":"sha","シュ":"shu","ショ":"sho","チャ":"cha","チュ":"chu","チョ":"cho","ニャ":"nya","ニュ":"nyu","ニョ":"nyo","ヒャ":"hya","ヒュ":"hyu","ヒョ":"hyo","ミャ":"mya","ミュ":"myu","ミョ":"myo","リャ":"rya","リュ":"ryu","リョ":"ryo","ぎゃ":"gya","ぎゅ":"gyu","ぎょ":"gyo","じゃ":"ja","じゅ":"ju","じょ":"jo","ぢゃ":"ja","ぢゅ":"ju","ぢょ":"jo","びゃ":"bya","びゅ":"byu","びょ":"byo","ぴゃ":"pya","ぴゅ":"pyu","ぴょ":"pyo","ギャ":"gya","ギュ":"gyu","ギョ":"gyo","ジャ":"ja","ジュ":"ju","ジョ":"jo","ヂャ":"ja","ヂュ":"ju","ヂョ":"jo","ビャ":"bya","ビュ":"byu","ビョ":"byo","ピャ":"pya","ピュ":"pyu","ピョ":"pyo","ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o","ゃ":"ya","ゅ":"yu","ょ":"yo","ゎ":"wa","ァ":"a","ィ":"i","ゥ":"u","ェ":"e","ォ":"o","ャ":"ya","ュ":"yu","ョ":"yo","ヮ":"wa","ヵ":"ka","ヶ":"ke","ん":"n","ン":"n","　":" ","いぇ":"ye","うぃ":"wi","うぇ":"we","うぉ":"wo","きぇ":"kye","くぁ":"kwa","くぃ":"kwi","くぇ":"kwe","くぉ":"kwo","ぐぁ":"gwa","ぐぃ":"gwi","ぐぇ":"gwe","ぐぉ":"gwo","イェ":"ye","ウィ":"wi","ウェ":"we","ウォ":"wo","ヴ":"vu","ヴァ":"va","ヴィ":"vi","ヴェ":"ve","ヴォ":"vo","ヴュ":"vyu","ヴョ":"vyo","キェ":"kya","クァ":"kwa","クィ":"kwi","クェ":"kwe","クォ":"kwo","グァ":"gwa","グィ":"gwi","グェ":"gwe","グォ":"gwo","しぇ":"she","じぇ":"je","ちぇ":"che","つぁ":"tsa","つぃ":"tsi","つぇ":"tse","つぉ":"tso","てぃ":"ti","てゅ":"tyu","でぃ":"di","でゅ":"dyu","とぅ":"tu","どぅ":"du","にぇ":"nye","ひぇ":"hye","ふぁ":"fa","ふぃ":"fi","ふぇ":"fe","ふぉ":"fo","ふゅ":"fyu","ふょ":"fyo","シェ":"she","ジェ":"je","チェ":"che","ツァ":"tsa","ツィ":"tsi","ツェ":"tse","ツォ":"tso","ティ":"ti","テュ":"tyu","ディ":"di","デュ":"dyu","トゥ":"tu","ドゥ":"du","ニェ":"nye","ヒェ":"hye","ファ":"fa","フィ":"fi","フェ":"fe","フォ":"fo","フュ":"fyu","フョ":"fyo"}},n=0,r=void 0,u=void 0,i="";if((o=o||ROMANIZATION_SYSTEM.HEPBURN)===ROMANIZATION_SYSTEM.PASSPORT&&(a=a.replace(/ー/gm,"")),o===ROMANIZATION_SYSTEM.NIPPON||o===ROMANIZATION_SYSTEM.HEPBURN){for(var y=new RegExp(/(ん|ン)(?=あ|い|う|え|お|ア|イ|ウ|エ|オ|ぁ|ぃ|ぅ|ぇ|ぉ|ァ|ィ|ゥ|ェ|ォ|や|ゆ|よ|ヤ|ユ|ヨ|ゃ|ゅ|ょ|ャ|ュ|ョ)/g),t=void 0,s=[];null!==(t=y.exec(a));)s.push(t.index+1);if(0!==s.length){for(var h="",g=0;g<s.length;g++)h+=0===g?a.slice(0,s[g])+"'":a.slice(s[g-1],s[g])+"'";h+=a.slice(s[s.length-1]),a=h}}for(var p=a.length;n<=p;)(u=e[o][a.substring(n,n+2)])?(i+=u,n+=2):(i+=(u=e[o][r=a.substring(n,n+1)])?u:r,n+=1);return i=i.replace(/(っ|ッ)([bcdfghijklmnopqrstuvwyz])/gm,"$2$2"),o!==ROMANIZATION_SYSTEM.PASSPORT&&o!==ROMANIZATION_SYSTEM.HEPBURN||(i=i.replace(/cc/gm,"tc")),i=i.replace(/っ|ッ/gm,"tsu"),o!==ROMANIZATION_SYSTEM.PASSPORT&&o!==ROMANIZATION_SYSTEM.HEPBURN||(i=(i=(i=i.replace(/nm/gm,"mm")).replace(/nb/gm,"mb")).replace(/np/gm,"mp")),o===ROMANIZATION_SYSTEM.NIPPON&&(i=(i=(i=(i=(i=i.replace(/aー/gm,"â")).replace(/iー/gm,"î")).replace(/uー/gm,"û")).replace(/eー/gm,"ê")).replace(/oー/gm,"ô")),o===ROMANIZATION_SYSTEM.HEPBURN&&(i=(i=(i=(i=(i=i.replace(/aー/gm,"ā")).replace(/iー/gm,"ī")).replace(/uー/gm,"ū")).replace(/eー/gm,"ē")).replace(/oー/gm,"ō")),i},getStrType=function(a){for(var o=!1,e=!1,n=0;n<a.length;n++)isKanji(a[n])?o=!0:(isHiragana(a[n])||isKatakana(a[n]))&&(e=!0);return o&&e?1:o?0:e?2:3},patchTokens=function(a){for(var o=0;o<a.length;o++)hasJapanese(a[o].surface_form)?a[o].reading?hasHiragana(a[o].reading)&&(a[o].reading=toRawKatakana(a[o].reading)):a[o].surface_form.split("").every(isKana)?a[o].reading=toRawKatakana(a[o].surface_form):a[o].reading=a[o].surface_form:a[o].reading=a[o].surface_form;for(var e=0;e<a.length;e++)!a[e].pos||"助動詞"!==a[e].pos||"う"!==a[e].surface_form&&"ウ"!==a[e].surface_form||e-1>=0&&a[e-1].pos&&"動詞"===a[e-1].pos&&(a[e-1].surface_form+="う",a[e-1].pronunciation?a[e-1].pronunciation+="ー":a[e-1].pronunciation=a[e-1].reading+"ー",a[e-1].reading+="ウ",a.splice(e,1),e--);for(var n=0;n<a.length;n++)a[n].pos&&("動詞"===a[n].pos||"形容詞"===a[n].pos)&&a[n].surface_form.length>1&&("っ"===a[n].surface_form[a[n].surface_form.length-1]||"ッ"===a[n].surface_form[a[n].surface_form.length-1])&&n+1<a.length&&a[n+1].pos&&("動詞"===a[n+1].pos||"助動詞"===a[n+1].pos)&&(a[n].surface_form+=a[n+1].surface_form,a[n].pronunciation?a[n].pronunciation+=a[n+1].pronunciation:a[n].pronunciation=""+a[n].reading+a[n+1].reading,a[n].reading+=a[n+1].reading,a.splice(n+1,1),n--);return a},kanaToHiragna=function(a){return toRawHiragana(a)},kanaToKatakana=function(a){return toRawKatakana(a)},kanaToRomaji=function(a,o){return toRawRomaji(a,o)};exports.ROMANIZATION_SYSTEM=ROMANIZATION_SYSTEM,exports.getStrType=getStrType,exports.patchTokens=patchTokens,exports.isHiragana=isHiragana,exports.isKatakana=isKatakana,exports.isKana=isKana,exports.isKanji=isKanji,exports.isJapanese=isJapanese,exports.hasHiragana=hasHiragana,exports.hasKatakana=hasKatakana,exports.hasKana=hasKana,exports.hasKanji=hasKanji,exports.hasJapanese=hasJapanese,exports.toRawHiragana=toRawHiragana,exports.toRawKatakana=toRawKatakana,exports.toRawRomaji=toRawRomaji,exports.kanaToHiragna=kanaToHiragna,exports.kanaToKatakana=kanaToKatakana,exports.kanaToRomaji=kanaToRomaji;

},{}]},{},[5])(5)
});
